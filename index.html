<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flowers For You</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300&family=Inter:wght@300;400&display=swap"
        rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            color: #fff;
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 30px 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
        }

        .logo {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.3rem;
            font-weight: 300;
            letter-spacing: 0.1em;
            opacity: 0.7;
        }

        .nav-count {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.4);
            letter-spacing: 0.1em;
        }

        /* Main Layout */
        .main-view {
            min-height: 100vh;
            display: grid;
            grid-template-columns: 1fr 50% 1fr;
            padding: 100px 50px 80px;
        }

        /* Left Panel */
        .left-panel {
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding-right: 40px;
        }

        .flower-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2.5rem, 6vw, 5rem);
            font-weight: 300;
            font-style: italic;
            line-height: 1.1;
            margin-bottom: 25px;
        }

        .flower-desc {
            font-size: 0.85rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.5);
            max-width: 280px;
            margin-bottom: 35px;
        }

        .meta-info {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .meta-item {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .meta-label {
            font-size: 0.6rem;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            color: rgba(255, 255, 255, 0.25);
        }

        .meta-value {
            font-family: 'Cormorant Garamond', serif;
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.6);
        }

        /* Center - Main Image */
        .center-panel {
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .main-flower {
            width: 100%;
            max-width: 420px;
            aspect-ratio: 1;
            background: radial-gradient(ellipse at center, rgba(183, 110, 121, 0.1) 0%, #000 70%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10rem;
            position: relative;
            overflow: visible;
            cursor: pointer;
            transition: transform 0.5s ease, opacity 0.3s;
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-15px);
            }
        }

        .main-flower:hover {
            animation-play-state: paused;
            transform: scale(1.05);
        }

        /* Glow effect */
        .main-flower::before {
            content: '';
            position: absolute;
            width: 250px;
            height: 250px;
            background: radial-gradient(circle, rgba(183, 110, 121, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            animation: pulse-glow 3s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes pulse-glow {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.5;
            }

            50% {
                transform: scale(1.2);
                opacity: 0.8;
            }
        }

        /* Particle ring */
        .main-flower::after {
            content: 'âœ¨ Â· âœ¨ Â· âœ¨ Â· âœ¨ Â· âœ¨ Â· âœ¨ Â·';
            position: absolute;
            width: 350px;
            height: 350px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.3);
            letter-spacing: 8px;
            border-radius: 50%;
            animation: rotate-ring 20s linear infinite;
            pointer-events: none;
        }

        @keyframes rotate-ring {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .view-btn {
            position: fixed;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 35px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            font-size: 0.7rem;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            z-index: 100;
        }

        .view-btn:hover {
            background: #fff;
            color: #000;
        }

        /* Right Panel - Thumbnails */
        .right-panel {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-end;
            padding-left: 30px;
        }

        .thumb-scroll {
            max-height: 400px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
        }

        .thumb-scroll::-webkit-scrollbar {
            width: 3px;
        }

        .thumb-scroll::-webkit-scrollbar-track {
            background: transparent;
        }

        .thumb-scroll::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
        }

        .thumb-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding-right: 10px;
        }

        .thumb {
            width: 40px;
            height: 40px;
            background: transparent;
            border: none;
            border-radius: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
            opacity: 0.4;
        }

        .thumb:hover {
            opacity: 0.8;
            transform: scale(1.1);
        }

        .thumb.active {
            opacity: 1;
            transform: scale(1.15);
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 25px;
            left: 50px;
            right: 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            pointer-events: none;
        }

        .bottom-nav>* {
            pointer-events: auto;
        }

        .nav-arrow {
            width: 45px;
            height: 45px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            background: transparent;
            color: #fff;
        }

        .nav-arrow:hover {
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.05);
        }

        .nav-arrow svg {
            width: 18px;
            height: 18px;
            stroke: currentColor;
        }

        .progress-bar {
            position: absolute;
            left: 80px;
            width: 100px;
            height: 2px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 1px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: rgba(255, 255, 255, 0.6);
            transition: width 0.3s;
        }

        /* Mobile Thumbnail Strip (hidden by default, shown on mobile/tablet) */
        .mobile-thumbs {
            display: none;
            position: fixed;
            bottom: 70px;
            left: 0;
            right: 0;
            padding: 10px 15px;
            overflow-x: auto;
            scrollbar-width: none;
            -webkit-overflow-scrolling: touch;
            z-index: 90;
        }

        .mobile-thumbs::-webkit-scrollbar {
            display: none;
        }

        .mobile-thumb-list {
            display: flex;
            gap: 8px;
            padding: 0 10px;
        }

        .mobile-thumb {
            flex-shrink: 0;
            width: 44px;
            height: 44px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .mobile-thumb.active {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
            transform: scale(1.1);
        }

        /* Tablet (600px - 900px) */
        @media (max-width: 900px) and (min-width: 601px) {
            nav {
                padding: 20px 30px;
            }

            .main-view {
                grid-template-columns: 1fr 1fr;
                padding: 100px 30px 140px;
            }

            .left-panel {
                padding-right: 20px;
            }

            .flower-title {
                font-size: 2.5rem;
            }

            .right-panel {
                display: none;
            }

            .mobile-thumbs {
                display: block;
            }

            .main-flower {
                font-size: 6rem;
                width: 250px;
                height: 250px;
            }

            .view-btn {
                bottom: 20px;
            }

            .bottom-nav {
                bottom: 18px;
                left: 30px;
                right: 30px;
            }
        }

        /* Mobile (< 600px) */
        @media (max-width: 600px) {
            nav {
                padding: 15px 20px;
            }

            .main-view {
                display: flex;
                flex-direction: column;
                align-items: center;
                padding: 80px 20px 150px;
                gap: 20px;
                min-height: 100vh;
            }

            .left-panel {
                padding: 0;
                text-align: center;
                align-items: center;
                order: 1;
            }

            .flower-title {
                font-size: 2rem;
                margin-bottom: 10px;
            }

            .flower-desc {
                max-width: 90%;
                margin-bottom: 15px;
                font-size: 0.8rem;
            }

            .meta-info {
                flex-direction: row;
                gap: 25px;
            }

            .center-panel {
                order: 2;
            }

            .main-flower {
                font-size: 4.5rem;
                width: 180px;
                height: 180px;
                max-width: none;
            }

            .main-flower::after {
                width: 240px;
                height: 240px;
                font-size: 0.6rem;
            }

            .main-flower::before {
                width: 180px;
                height: 180px;
            }

            .right-panel {
                display: none;
            }

            .mobile-thumbs {
                display: block;
                bottom: 65px;
            }

            .mobile-thumb {
                width: 40px;
                height: 40px;
                font-size: 1.1rem;
            }

            .view-btn {
                padding: 10px 25px;
                font-size: 0.6rem;
                bottom: 18px;
            }

            .bottom-nav {
                left: 15px;
                right: 15px;
                bottom: 15px;
            }

            .nav-arrow {
                width: 36px;
                height: 36px;
            }

            .nav-arrow svg {
                width: 14px;
                height: 14px;
            }

            .progress-bar {
                display: none;
            }
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav>
        <div class="logo">Flowers</div>
        <div class="nav-count"><span id="currentNum">01</span> / 50</div>
    </nav>

    <!-- Main View -->
    <main class="main-view">
        <div class="left-panel">
            <h1 class="flower-title" id="flowerTitle">Rose</h1>
            <p class="flower-desc" id="flowerDesc">Layered petals catching light like silk, rendered with care.</p>
            <div class="meta-info">
                <div class="meta-item">
                    <span class="meta-label">Type</span>
                    <span class="meta-value" id="flowerType">Photorealistic</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">Experience</span>
                    <span class="meta-value" id="flowerExp">Interactive 3D</span>
                </div>
            </div>
        </div>

        <div class="center-panel">
            <div class="main-flower" id="mainFlower">ðŸŒ¹</div>
            <a href="pages/photorealistic-rose.html" class="view-btn" id="viewBtn">Enter</a>
        </div>

        <div class="right-panel">
            <div class="thumb-scroll">
                <div class="thumb-list" id="thumbList"></div>
            </div>
        </div>
    </main>

    <!-- Mobile Thumbnail Strip -->
    <div class="mobile-thumbs" id="mobileThumbs">
        <div class="mobile-thumb-list" id="mobileThumbList"></div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <button class="nav-arrow" id="prevBtn">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                <path d="M15 19l-7-7 7-7" />
            </svg>
        </button>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <button class="nav-arrow" id="nextBtn">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                <path d="M9 5l7 7-7 7" />
            </svg>
        </button>
    </div>

    <script>
        // All 50 flowers
        const flowers = [
            { title: 'Rose', emoji: 'ðŸŒ¹', desc: 'Layered petals catching light like silk, rendered with care.', type: 'Photorealistic', exp: 'Interactive 3D', link: 'pages/photorealistic-rose.html' },
            { title: 'Bloom', emoji: 'ðŸŒº', desc: 'Petals generated from mathematical curves, growing organically.', type: 'Procedural', exp: 'Animated Growth', link: 'pages/procedural-bloom.html' },
            { title: 'Tulip', emoji: 'ðŸŒ·', desc: 'A bud unfurling at sunrise, petals stretching toward light.', type: 'Time-lapse', exp: 'Cinematic', link: 'pages/timelapse-bloom.html' },
            { title: 'Field', emoji: 'ðŸŒ¼', desc: 'Thousands of flowers swaying together in gentle wind.', type: 'Infinite', exp: 'Immersive', link: 'pages/infinite-field.html' },
            { title: 'Machine', emoji: 'âš™ï¸', desc: 'Metallic petals with mechanical hinges and glowing core.', type: 'Biomechanical', exp: 'Industrial', link: 'pages/biomechanical.html' },
            { title: 'Cosmic', emoji: 'âœ¨', desc: 'Nebula-formed petals drifting among distant stars.', type: 'Abstract', exp: 'Space', link: 'pages/cosmic-flower.html' },
            { title: 'Painted', emoji: 'ðŸŽ¨', desc: 'Soft watercolor textures on delicate petals.', type: 'Watercolor', exp: 'Artistic', link: 'pages/watercolor.html' },
            { title: 'Garden', emoji: 'ðŸ‘†', desc: 'Click flowers to watch them bloom and release pollen.', type: 'Interactive', exp: 'Touch', link: 'pages/interactive-garden.html' },
            { title: 'Fibonacci', emoji: 'ðŸ”¢', desc: 'Petals arranged in perfect golden ratio spirals.', type: 'Mathematical', exp: 'Geometric', link: 'pages/golden-ratio.html' },
            { title: 'Moonflower', emoji: 'ðŸŒ™', desc: 'Bioluminescent veins pulse gently in darkness.', type: 'Night Bloom', exp: 'Atmospheric', link: 'pages/night-blooming.html' },
            { title: 'Silk', emoji: 'ðŸŒŠ', desc: 'Petals rippling like fabric in a gentle breeze.', type: 'Shader', exp: 'Fluid Motion', link: 'pages/shader-motion.html' },
            { title: 'Glass', emoji: 'ðŸ’Ž', desc: 'Light passing through translucent, delicate petals.', type: 'Translucent', exp: 'Backlit', link: 'pages/translucent-petals.html' },
            { title: 'Warmth', emoji: 'ðŸ”¥', desc: 'Colors shift based on proximity to heat.', type: 'Reactive', exp: 'Touch-based', link: 'pages/heat-reactive.html' },
            { title: 'Fractal', emoji: 'ðŸ”„', desc: 'Infinite recursive structures within each petal.', type: 'Recursive', exp: 'Zoom', link: 'pages/fractal-flower.html' },
            { title: 'Emotion', emoji: 'ðŸ’—', desc: 'Responds to your movement with color and energy.', type: 'Emotional', exp: 'Responsive', link: 'pages/emotion-driven.html' },
            { title: 'Zen', emoji: 'â˜¯ï¸', desc: 'Single white flower. Nothing more, nothing less.', type: 'Minimal', exp: 'Calm', link: 'pages/minimal-zen.html' },
            { title: 'Seasons', emoji: 'ðŸ‚', desc: 'Spring bloom through winter decay, cycling endlessly.', type: 'Seasonal', exp: 'Time-based', link: 'pages/seasonal-cycle.html' },
            { title: 'Create', emoji: 'ðŸ§¬', desc: 'Design your own flower with custom parameters.', type: 'Generator', exp: 'Creative', link: 'pages/botanical-generator.html' },
            { title: 'Macro', emoji: 'ðŸ“·', desc: 'Extreme close-up of pollen grains and fiber detail.', type: 'Photography', exp: 'Detail', link: 'pages/macro-photography.html' },
            { title: 'Magic', emoji: 'ðŸ”®', desc: 'Glowing runes and orbiting particles of light.', type: 'Mythical', exp: 'Fantasy', link: 'pages/mythical-flower.html' },
            { title: 'Magnetic', emoji: 'ðŸ§²', desc: 'Petals respond to invisible magnetic field forces.', type: 'Physics', exp: 'Magnetic', link: 'pages/magnetic-flower.html' },
            { title: 'Glassblown', emoji: 'ðŸ«§', desc: 'Transparent glass petals with refraction and bubbles.', type: 'Glass Art', exp: 'Prismatic', link: 'pages/glassblown-flower.html' },
            { title: 'Frozen', emoji: 'â„ï¸', desc: 'Crystallizes from vapor with spreading frost patterns.', type: 'Ice Crystal', exp: 'Freezing', link: 'pages/frozen-ice.html' },
            { title: 'Mercury', emoji: 'ðŸªž', desc: 'Liquid metal petals morphing and reflecting light.', type: 'Liquid Metal', exp: 'Morphing', link: 'pages/liquid-metal.html' },
            { title: 'Wind', emoji: 'ðŸ’¨', desc: 'Petals deform in wind tunnel with visible streamlines.', type: 'Aerodynamic', exp: 'Scientific', link: 'pages/wind-tunnel.html' },
            { title: 'Quantum', emoji: 'âš›ï¸', desc: 'Exists in multiple states until observed.', type: 'Quantum', exp: 'Superposition', link: 'pages/quantum-flower.html' },
            { title: 'Origami', emoji: 'ðŸ“„', desc: 'Paper petals unfold with crisp crease animations.', type: 'Paper Art', exp: 'Folding', link: 'pages/origami-flower.html' },
            { title: 'Geode', emoji: 'ðŸ’œ', desc: 'Rocky shell cracks to reveal crystalline petals.', type: 'Crystal', exp: 'Geologic', link: 'pages/crystal-geode.html' },
            { title: 'Kinetic', emoji: 'ðŸ”§', desc: 'Mechanical petals driven by turning brass gears.', type: 'Clockwork', exp: 'Mechanical', link: 'pages/kinetic-flower.html' },
            { title: 'Cloud', emoji: 'â˜ï¸', desc: 'Volumetric puffs that dissipate and reform.', type: 'Atmospheric', exp: 'Ethereal', link: 'pages/cloud-flower.html' },
            { title: 'Neon', emoji: 'ðŸŒƒ', desc: 'Holographic petals with glitch effects and data streams.', type: 'Cyberpunk', exp: 'Digital', link: 'pages/neon-cyberpunk.html' },
            { title: 'Sound', emoji: 'ðŸŽµ', desc: 'Petals deform to simulated audio frequencies.', type: 'Audio', exp: 'Reactive', link: 'pages/sound-wave.html' },
            { title: 'Mirror', emoji: 'ðŸªž', desc: 'Polished petals create infinite reflections.', type: 'Reflective', exp: 'Kaleidoscopic', link: 'pages/mirror-flower.html' },
            { title: 'Abyss', emoji: 'ðŸ™', desc: 'Bioluminescent deep-sea bloom with orbiting creatures.', type: 'Deep Sea', exp: 'Oceanic', link: 'pages/bioluminescent.html' },
            { title: 'Clockwork', emoji: 'â°', desc: 'Petals mark time like clock hands.', type: 'Temporal', exp: 'Steampunk', link: 'pages/clockwork-flower.html' },
            { title: 'Ink', emoji: 'ðŸ–‹ï¸', desc: 'Petals emerge from spreading ink patterns.', type: 'Artistic', exp: 'Calligraphy', link: 'pages/ink-spread.html' },
            { title: 'Gravity', emoji: 'ðŸŒŒ', desc: 'Petals float independently while maintaining form.', type: 'Anti-gravity', exp: 'Floating', link: 'pages/gravity-defying.html' },
            { title: 'Chameleon', emoji: 'ðŸ¦Ž', desc: 'Colors shift to match the environment.', type: 'Adaptive', exp: 'Camouflage', link: 'pages/chameleon-flower.html' },
            { title: 'Pixel', emoji: 'ðŸ‘¾', desc: 'Blocky voxels that smooth into organic form.', type: 'Retro', exp: '8-bit', link: 'pages/pixelated-flower.html' },
            { title: 'Thermal', emoji: 'ðŸŒ¡ï¸', desc: 'Infrared visualization with radiating heat gradients.', type: 'Heat Map', exp: 'Scientific', link: 'pages/thermal-flower.html' },
            { title: 'Shadow', emoji: 'ðŸŽ­', desc: 'Simple silhouette with complex layered shadows.', type: 'Paper-cut', exp: 'Theatre', link: 'pages/paper-cut-shadow.html' },
            { title: 'Kaleidoscope', emoji: 'ðŸ”®', desc: 'Mirrored petals forming evolving patterns.', type: 'Fractal', exp: 'Hypnotic', link: 'pages/fractal-kaleidoscope.html' },
            { title: 'Wireframe', emoji: 'ðŸ“', desc: 'Glowing mesh with flowing data points.', type: 'Technical', exp: 'Blueprint', link: 'pages/wireframe-botanical.html' },
            { title: 'Rewind', emoji: 'âª', desc: 'Bloom plays forward then rewinds perfectly.', type: 'Temporal', exp: 'Loop', link: 'pages/time-reversed.html' },
            { title: 'Underwater', emoji: 'ðŸ«§', desc: 'Petals sway with currents under shimmering caustics.', type: 'Aquatic', exp: 'Submerged', link: 'pages/underwater-flower.html' },
            { title: 'Molecular', emoji: 'âš—ï¸', desc: 'Atoms and bonds forming a lattice bloom.', type: 'Chemistry', exp: 'Scientific', link: 'pages/molecular-flower.html' },
            { title: 'Fabric', emoji: 'ðŸ§µ', desc: 'Silk petals with realistic flutter physics.', type: 'Textile', exp: 'Tactile', link: 'pages/torn-fabric.html' },
            { title: 'Phoenix', emoji: 'ðŸ”¥', desc: 'Ignites into flames and reborn from embers.', type: 'Fire', exp: 'Rebirth', link: 'pages/burning-phoenix.html' },
            { title: 'Meteor', emoji: 'â˜„ï¸', desc: 'Cosmic bloom streaking through space with trail.', type: 'Space', exp: 'Celestial', link: 'pages/meteor-flower.html' },
            { title: 'Mycelium', emoji: 'ðŸ„', desc: 'Connected to glowing underground root network.', type: 'Organic', exp: 'Network', link: 'pages/mycelium-network.html' }
        ];

        let currentIndex = 0;

        const flowerTitle = document.getElementById('flowerTitle');
        const flowerDesc = document.getElementById('flowerDesc');
        const flowerType = document.getElementById('flowerType');
        const flowerExp = document.getElementById('flowerExp');
        const mainFlower = document.getElementById('mainFlower');
        const viewBtn = document.getElementById('viewBtn');
        const thumbList = document.getElementById('thumbList');
        const mobileThumbList = document.getElementById('mobileThumbList');
        const progressFill = document.getElementById('progressFill');
        const currentNum = document.getElementById('currentNum');

        // Create thumbnails for all 50 flowers (desktop + mobile)
        flowers.forEach((flower, i) => {
            // Desktop thumbnail
            const thumb = document.createElement('div');
            thumb.className = 'thumb' + (i === 0 ? ' active' : '');
            thumb.textContent = flower.emoji;
            thumb.dataset.index = i;
            thumb.addEventListener('click', () => updateFlower(i));
            thumbList.appendChild(thumb);

            // Mobile thumbnail
            const mobileThumb = document.createElement('div');
            mobileThumb.className = 'mobile-thumb' + (i === 0 ? ' active' : '');
            mobileThumb.textContent = flower.emoji;
            mobileThumb.dataset.index = i;
            mobileThumb.addEventListener('click', () => updateFlower(i));
            mobileThumbList.appendChild(mobileThumb);
        });

        const thumbs = document.querySelectorAll('.thumb');
        const mobileThumbs = document.querySelectorAll('.mobile-thumb');

        function updateFlower(index, skipSave = false) {
            currentIndex = index;
            const flower = flowers[index];

            // Save to sessionStorage (persists across page navigation)
            if (!skipSave) {
                sessionStorage.setItem('currentFlower', index.toString());
            }

            // Animate out
            mainFlower.style.opacity = '0';
            mainFlower.style.transform = 'scale(0.95)';

            setTimeout(() => {
                flowerTitle.textContent = flower.title;
                flowerDesc.textContent = flower.desc;
                flowerType.textContent = flower.type;
                flowerExp.textContent = flower.exp;
                mainFlower.textContent = flower.emoji;
                viewBtn.href = flower.link;
                currentNum.textContent = String(index + 1).padStart(2, '0');

                // Update progress
                progressFill.style.width = ((index + 1) / flowers.length * 100) + '%';

                // Update active states (desktop + mobile)
                thumbs.forEach((t, i) => t.classList.toggle('active', i === index));
                mobileThumbs.forEach((t, i) => t.classList.toggle('active', i === index));

                // Scroll thumbnails into view
                thumbs[index].scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                mobileThumbs[index].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });

                // Animate in
                mainFlower.style.opacity = '1';
                mainFlower.style.transform = 'scale(1)';
            }, 150);
        }

        // Arrow navigation
        document.getElementById('prevBtn').addEventListener('click', () => {
            const newIndex = currentIndex === 0 ? flowers.length - 1 : currentIndex - 1;
            updateFlower(newIndex);
        });

        document.getElementById('nextBtn').addEventListener('click', () => {
            const newIndex = currentIndex === flowers.length - 1 ? 0 : currentIndex + 1;
            updateFlower(newIndex);
        });

        // Click main flower to enter
        mainFlower.addEventListener('click', () => {
            window.location.href = flowers[currentIndex].link;
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                const newIndex = currentIndex === flowers.length - 1 ? 0 : currentIndex + 1;
                updateFlower(newIndex);
            } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                const newIndex = currentIndex === 0 ? flowers.length - 1 : currentIndex - 1;
                updateFlower(newIndex);
            } else if (e.key === 'Enter') {
                window.location.href = flowers[currentIndex].link;
            }
        });

        // Remember position using sessionStorage (persists across page navigation)
        function initFromStorage() {
            const saved = sessionStorage.getItem('currentFlower');
            if (saved !== null) {
                const num = parseInt(saved, 10);
                if (num >= 0 && num < flowers.length) {
                    // Use setTimeout to ensure DOM is ready
                    setTimeout(() => updateFlower(num, true), 0);
                    return;
                }
            }
            // Default to first flower
            progressFill.style.width = (1 / flowers.length * 100) + '%';
        }

        initFromStorage();

        // Touch swipe support
        let touchStartX = 0;
        let touchStartY = 0;
        let touchEndX = 0;
        let touchEndY = 0;

        const mainView = document.querySelector('.main-view');

        mainView.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
            touchStartY = e.changedTouches[0].screenY;
        }, { passive: true });

        mainView.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            touchEndY = e.changedTouches[0].screenY;
            handleSwipe();
        }, { passive: true });

        function handleSwipe() {
            const diffX = touchEndX - touchStartX;
            const diffY = touchEndY - touchStartY;
            const threshold = 50;

            // Only handle horizontal swipes (ignore vertical scrolling)
            if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > threshold) {
                if (diffX < 0) {
                    // Swipe left = next
                    const newIndex = currentIndex === flowers.length - 1 ? 0 : currentIndex + 1;
                    updateFlower(newIndex);
                } else {
                    // Swipe right = prev
                    const newIndex = currentIndex === 0 ? flowers.length - 1 : currentIndex - 1;
                    updateFlower(newIndex);
                }
            }
        }
    </script>
</body>

</html>